<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RithRith</title>
  </head>
  <body>
    <main class="container">
      <div class="card">
        <img id="cuteImg" src="img/cat.jpg" alt="A cute puppy" />
        <h1>Do you love me?</h1>
        <div class="buttons">
          <button id="yesBtn" class="yes">Yes</button>
          <button id="noBtn" class="no">No</button>
        </div>
        <p id="response" aria-live="polite"></p>
      </div>
    </main>

    <style>
      :root {
        font-family: system-ui, -apple-system, Segoe UI, Roboto,
          "Helvetica Neue", Arial;
      }
      html,
      body {
        height: 100%;
        margin: 0;
      }
      .container {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #ffe6e6, #fff9f0);
      }
      .card {
        background: white;
        padding: 28px;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
        text-align: center;
        min-width: 280px;
        width: min(420px, 92vw);
      }
      h1 {
        margin: 0 0 18px;
        font-size: 1.4rem;
      }
      #cuteImg {
        display: block;
        margin: 0 auto 14px;
        border-radius: 12px;
        max-width: 160px;
        height: auto;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
      }
      .buttons {
        display: flex;
        gap: 12px;
        justify-content: center;
      }
      button {
        padding: 10px 18px;
        border-radius: 8px;
        border: 0;
        cursor: pointer;
        font-weight: 600;
      }
      .yes {
        background: #ff6b81;
        color: white;
      }
      .no {
        background: #e0e0e0;
      }
      p#response {
        min-height: 1.2em;
        margin-top: 12px;
        color: #333;
      }
      /* make the no button positioned so we can move it */
      .buttons {
        position: relative;
      }
      .no {
        position: relative;
      }

      /* mobile / touch-friendly adjustments */
      @media (pointer: coarse), (max-width: 480px) {
        #cuteImg{max-width:120px}
        button{padding:14px 20px;font-size:1rem}
        .buttons{gap:10px}
      }
    </style>

    <script>
      const noBtn = document.getElementById("noBtn");
      const yesBtn = document.getElementById("yesBtn");
      const response = document.getElementById("response");

      // When yes is clicked, show a cute response
      yesBtn.addEventListener("click", () => {
        response.textContent = "I knew it! ðŸ’–";
      });

      // Make the No button run away when the cursor comes near it.
      // On touch/coarse-pointer devices we disable the runaway so the button is tappable.
      const parent = noBtn.parentElement;
      const padding = 16; // extra space inside parent where button may move

      // feature-detect coarse pointers (typical on phones) and touch support
      const isTouch = matchMedia('(pointer: coarse)').matches || 'ontouchstart' in window;

      if (!isTouch) {
        parent.addEventListener("mousemove", (e) => {
        const rect = noBtn.getBoundingClientRect();
        const parentRect = parent.getBoundingClientRect();
        const mouseX = e.clientX;
        const mouseY = e.clientY;

        const dx = mouseX - (rect.left + rect.width / 2);
        const dy = mouseY - (rect.top + rect.height / 2);
        const distance = Math.hypot(dx, dy);

        // If mouse is within 100px, move the button away proportional to closeness
        const threshold = 120;
        if (distance < threshold) {
          // compute a vector away from the mouse
          const awayX = -dx / distance;
          const awayY = -dy / distance;

          // movement magnitude increases as mouse gets closer
          const strength = Math.max(40, threshold - distance);
          // compute new center position within parent bounds
          const parentCenterX = parentRect.left + parentRect.width / 2;
          const parentCenterY = parentRect.top + parentRect.height / 2;

          // Use current transform if any
          noBtn.style.transition = "transform 0.12s ease-out";
          const moveX = awayX * strength;
          const moveY = awayY * strength;

          // Limit movement so button stays inside parent
          // We'll just apply transform; CSS ensures overflow is visible within card
          noBtn.style.transform = `translate(${moveX}px, ${moveY}px)`;
        } else {
          // return to original
          noBtn.style.transition = "transform 0.25s ease";
          noBtn.style.transform = "";
        }
        });

        // Small extra: if mouse leaves parent, reset
        parent.addEventListener("mouseleave", () => {
          noBtn.style.transform = "";
        });

        // Prevent accidental click by moving it if pointerdown happens near it
        noBtn.addEventListener("click", (e) => {
          // If somehow clicked, give a playful message
          response.textContent = "You almost caught me! ðŸ˜…";
        });
      } else {
        // On touch devices: allow tapping the No button. Add a small tap feedback.
        noBtn.addEventListener('touchstart', ()=>{
          noBtn.animate([
            { transform: 'translateY(0)' },
            { transform: 'translateY(-6px)' },
            { transform: 'translateY(0)' }
          ], { duration: 220, easing: 'ease-out' });
        }, {passive:true});

        // normal click handler for no
        noBtn.addEventListener('click', ()=>{
          response.textContent = "You chose No â€” that's okay! ðŸ˜Š";
        });
      }
    </script>
  </body>
</html>


